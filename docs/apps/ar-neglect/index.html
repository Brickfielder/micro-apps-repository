<!doctype html><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Camera sanity check</title>
<style>body{margin:0;font-family:system-ui} .wrap{padding:12px} video,canvas{width:100%;max-width:720px;border:1px solid #ddd;border-radius:12px} button{padding:10px 14px;margin:8px 0;border-radius:10px;border:0;background:#2563eb;color:#fff}</style>
<div class="wrap">
  <p id="msg">Requesting camera…</p>
  <video id="v" playsinline autoplay muted></video>
  <button id="snap">Snapshot</button>
  <canvas id="c"></canvas>
</div>
<script>
(async () => {
  try {
    const stream = await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:'environment'}}, audio:false});
    v.srcObject = stream; msg.textContent = 'Camera OK ✓';
  } catch(e){ msg.textContent = 'Camera failed: '+e.message; }
})();
snap.onclick = () => { c.width=v.videoWidth; c.height=v.videoHeight; c.getContext('2d').drawImage(v,0,0); };
</script>
